name: "Boostrapper"
on:
  workflow_dispatch:
  schedule:
    # Runs at 00:00 UTC every day in December
    - cron: "0 0 1-31 12 *"

jobs:
  Boostrapper:
    permissions:
      contents: write
    name: "Boostrapper"
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1
      - uses: actions/setup-python@83679a892e2d95755f2dac6acb0bfd1e9ac5d548 # v6.1.0
        with:
          python-version: "3.x"

      - name: Set up .env and bootstrap
        run: |
          echo "AOC_SESSION=${{secrets.AOC_SESSION}}" > .env
          make bootstrap

      - name: Commit changes
        uses: stefanzweifel/git-auto-commit-action@28e16e81777b558cc906c8750092100bbb34c5e3 # v7
        with:
          commit_message: "Automated commit from GitHub Actions"
